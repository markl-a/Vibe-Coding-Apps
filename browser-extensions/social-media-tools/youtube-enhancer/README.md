# ğŸ¬ YouTube Enhancer

> å…¨é¢æå‡ YouTube è§€çœ‹é«”é©—

## åŠŸèƒ½ç‰¹è‰²

### å½±ç‰‡ä¸‹è¼‰
- â¬‡ï¸ **ä¸€éµä¸‹è¼‰** - å¿«é€Ÿä¸‹è¼‰ YouTube å½±ç‰‡
- ğŸï¸ **ç•«è³ªé¸æ“‡** - æ”¯æ´ 4K/1080p/720p ç­‰å¤šç¨®ç•«è³ª
- ğŸµ **éŸ³è¨Šä¸‹è¼‰** - åƒ…ä¸‹è¼‰éŸ³è¨Šï¼ˆMP3ï¼‰
- ğŸ“ **å­—å¹•ä¸‹è¼‰** - ä¸‹è¼‰å½±ç‰‡å­—å¹•æª”æ¡ˆ
- ğŸ“‹ **æ’­æ”¾æ¸…å–®ä¸‹è¼‰** - æ‰¹æ¬¡ä¸‹è¼‰æ•´å€‹æ’­æ”¾æ¸…å–®

### æ’­æ”¾å™¨å¢å¼·
- â© **è‡ªè¨‚é€Ÿåº¦** - 0.25x åˆ° 3x ä»»æ„é€Ÿåº¦
- ğŸ”Š **éŸ³é‡å¢å¼·** - è¶…é 100% éŸ³é‡
- â­ï¸ **è·³éç‰‡é ­** - è‡ªå‹•è·³éç‰‡é ­å‹•ç•«
- ğŸ® **éµç›¤å¿«æ·éµ** - è‡ªè¨‚å¿«æ·éµæ“ä½œ
- ğŸ–¼ï¸ **å­æ¯ç•«é¢** - æµ®å‹•è¦–çª—æ’­æ”¾
- ğŸ” **å¾ªç’°æ’­æ”¾** - å–®ä¸€å€æ®µå¾ªç’°

### å»£å‘Šç§»é™¤
- ğŸš« **ç§»é™¤å½±ç‰‡å»£å‘Š** - è‡ªå‹•è·³éæ‰€æœ‰å»£å‘Š
- ğŸ›¡ï¸ **éš±è—æ©«å¹…å»£å‘Š** - ç§»é™¤å´é‚Šæ¬„å»£å‘Š
- â­ï¸ **è·³éè´ŠåŠ©ç‰‡æ®µ** - SponsorBlock æ•´åˆ

### ä»‹é¢å„ªåŒ–
- ğŸ¨ **è‡ªè¨‚ä¸»é¡Œ** - æ·±è‰²/æ·ºè‰²ä¸»é¡Œ
- ğŸ“ **ç‰ˆé¢é…ç½®** - èª¿æ•´åŠ‡é™¢æ¨¡å¼å¯¬åº¦
- ğŸ’¬ **ç•™è¨€å¢å¼·** - ç•™è¨€æœå°‹å’Œéæ¿¾
- ğŸ“Š **çµ±è¨ˆè³‡è¨Š** - é¡¯ç¤ºè©³ç´°è§€çœ‹æ•¸æ“š

### è¨‚é–±ç®¡ç†
- ğŸ“ **è¨‚é–±åˆ†é¡** - å°‡é »é“åˆ†çµ„ç®¡ç†
- ğŸ”” **é€šçŸ¥éæ¿¾** - è‡ªè¨‚é€šçŸ¥è¦å‰‡
- ğŸ“‹ **è§€çœ‹æ¸…å–®** - ç¨å¾Œè§€çœ‹ç®¡ç†

## å®‰è£æ–¹å¼

### å¾åŸå§‹ç¢¼å®‰è£

1. å…‹éš†å°ˆæ¡ˆ
```bash
git clone <repository-url>
cd browser-extensions/social-media-tools/youtube-enhancer
```

2. å®‰è£ä¾è³´
```bash
npm install
```

3. å»ºç½®å°ˆæ¡ˆ
```bash
npm run build
```

4. è¼‰å…¥åˆ° Chrome
- é–‹å•Ÿ `chrome://extensions/`
- å•Ÿç”¨ã€Œé–‹ç™¼è€…æ¨¡å¼ã€
- é»æ“Šã€Œè¼‰å…¥æœªå°è£é …ç›®ã€
- é¸æ“‡ `dist` è³‡æ–™å¤¾

## ä½¿ç”¨æ–¹æ³•

### ä¸‹è¼‰å½±ç‰‡

1. æ’­æ”¾ä»»ä½• YouTube å½±ç‰‡
2. é»æ“Šæ’­æ”¾å™¨ä¸‹æ–¹çš„ã€Œä¸‹è¼‰ã€æŒ‰éˆ•
3. é¸æ“‡ç•«è³ªå’Œæ ¼å¼
4. é–‹å§‹ä¸‹è¼‰

### è‡ªè¨‚æ’­æ”¾é€Ÿåº¦

1. æ’­æ”¾å½±ç‰‡æ™‚æŒ‰ä¸‹éµç›¤ä¸Šçš„ `[` æˆ– `]`
2. æˆ–é»æ“Šæ’­æ”¾å™¨ä¸Šçš„é€Ÿåº¦æ§åˆ¶æŒ‰éˆ•
3. è¼¸å…¥ä»»æ„é€Ÿåº¦ï¼ˆä¾‹å¦‚ï¼š1.25ã€1.5ã€2.0ï¼‰

### ç§»é™¤å»£å‘Š

1. é»æ“Šæ“´å……åŠŸèƒ½åœ–ç¤º
2. å•Ÿç”¨ã€Œè‡ªå‹•è·³éå»£å‘Šã€
3. é‡æ–°è¼‰å…¥é é¢

## å°ˆæ¡ˆçµæ§‹

```
youtube-enhancer/
â”œâ”€â”€ README.md
â”œâ”€â”€ package.json
â”œâ”€â”€ manifest.json
â”œâ”€â”€ webpack.config.js
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ background/
â”‚   â”‚   â””â”€â”€ service-worker.ts      # èƒŒæ™¯æœå‹™
â”‚   â”œâ”€â”€ content/
â”‚   â”‚   â”œâ”€â”€ youtube-enhancer.ts    # ä¸»è¦è…³æœ¬
â”‚   â”‚   â”œâ”€â”€ video-downloader.ts    # å½±ç‰‡ä¸‹è¼‰å™¨
â”‚   â”‚   â”œâ”€â”€ player-enhancements.ts # æ’­æ”¾å™¨å¢å¼·
â”‚   â”‚   â”œâ”€â”€ ad-skipper.ts          # å»£å‘Šè·³é
â”‚   â”‚   â””â”€â”€ styles.css             # è‡ªè¨‚æ¨£å¼
â”‚   â”œâ”€â”€ popup/
â”‚   â”‚   â”œâ”€â”€ popup.html
â”‚   â”‚   â”œâ”€â”€ popup.ts
â”‚   â”‚   â””â”€â”€ popup.css
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ youtube-api.ts         # YouTube API å·¥å…·
â”‚       â””â”€â”€ storage.ts             # å„²å­˜ç®¡ç†
â””â”€â”€ icons/
```

## æ ¸å¿ƒç¨‹å¼ç¢¼

### å½±ç‰‡ä¸‹è¼‰å™¨

```typescript
// src/content/video-downloader.ts
export class VideoDownloader {
  /**
   * ç²å–å½±ç‰‡è³‡è¨Š
   */
  async getVideoInfo(): Promise<VideoInfo> {
    const videoId = this.extractVideoId();
    const player = (window as any).ytInitialPlayerResponse;

    return {
      videoId,
      title: player.videoDetails.title,
      author: player.videoDetails.author,
      duration: player.videoDetails.lengthSeconds,
      formats: player.streamingData.formats
    };
  }

  /**
   * ä¸‹è¼‰å½±ç‰‡
   */
  async downloadVideo(quality: string): Promise<void> {
    const info = await this.getVideoInfo();
    const format = this.selectFormat(info.formats, quality);

    chrome.runtime.sendMessage({
      type: 'DOWNLOAD_VIDEO',
      url: format.url,
      filename: `${info.title}.mp4`
    });
  }
}
```

### å»£å‘Šè·³éå™¨

```typescript
// src/content/ad-skipper.ts
export class AdSkipper {
  /**
   * ç›£æ§ä¸¦è·³éå»£å‘Š
   */
  start(): void {
    const video = document.querySelector('video');
    if (!video) return;

    // ç›£æ§å»£å‘Šå‡ºç¾
    const observer = new MutationObserver(() => {
      const skipButton = document.querySelector('.ytp-ad-skip-button');
      if (skipButton) {
        (skipButton as HTMLElement).click();
      }

      // éœéŸ³å»£å‘Š
      const adPlaying = document.querySelector('.ad-showing');
      if (adPlaying && video) {
        video.muted = true;
        video.currentTime = video.duration; // è·³åˆ°çµå°¾
      }
    });

    observer.observe(document.body, {
      childList: true,
      subtree: true
    });
  }
}
```

### æ’­æ”¾å™¨å¢å¼·

```typescript
// src/content/player-enhancements.ts
export class PlayerEnhancements {
  /**
   * æ·»åŠ è‡ªè¨‚é€Ÿåº¦æ§åˆ¶
   */
  addSpeedControl(): void {
    const player = document.querySelector('.ytp-right-controls');
    if (!player) return;

    const speedButton = this.createSpeedButton();
    player.insertBefore(speedButton, player.firstChild);
  }

  /**
   * è¨­å®šæ’­æ”¾é€Ÿåº¦
   */
  setPlaybackSpeed(speed: number): void {
    const video = document.querySelector('video');
    if (video) {
      (video as HTMLVideoElement).playbackRate = speed;
    }
  }

  /**
   * éŸ³é‡å¢å¼·ï¼ˆè¶…é 100%ï¼‰
   */
  setVolumeBoost(level: number): void {
    const video = document.querySelector('video');
    if (video) {
      (video as HTMLVideoElement).volume = Math.min(level / 100, 1);
      // ä½¿ç”¨ Web Audio API é€²ä¸€æ­¥å¢å¼·
      this.applyAudioGain(level);
    }
  }
}
```

## æŠ€è¡“æ£§

- **TypeScript** - å‹åˆ¥å®‰å…¨
- **Webpack** - æ¨¡çµ„æ‰“åŒ…
- **Chrome Extension Manifest V3** - æœ€æ–°æ¨™æº–
- **YouTube IFrame API** - æ’­æ”¾å™¨æ§åˆ¶

## å¿«æ·éµ

| å¿«æ·éµ | åŠŸèƒ½ |
|--------|------|
| `Space` | æ’­æ”¾/æš«åœ |
| `[` | æ¸›é€Ÿ |
| `]` | åŠ é€Ÿ |
| `M` | éœéŸ³ |
| `F` | å…¨è¢å¹• |
| `T` | åŠ‡é™¢æ¨¡å¼ |
| `<` | ä¸Šä¸€éƒ¨å½±ç‰‡ |
| `>` | ä¸‹ä¸€éƒ¨å½±ç‰‡ |
| `0-9` | è·³åˆ°å½±ç‰‡ 0%-90% |

## åŠŸèƒ½è·¯ç·šåœ–

- [x] åŸºæœ¬å½±ç‰‡ä¸‹è¼‰
- [x] å»£å‘Šè·³é
- [x] è‡ªè¨‚æ’­æ”¾é€Ÿåº¦
- [ ] æ’­æ”¾æ¸…å–®æ‰¹æ¬¡ä¸‹è¼‰
- [ ] å­—å¹•ä¸‹è¼‰
- [ ] SponsorBlock æ•´åˆ
- [ ] ç•™è¨€æœå°‹
- [ ] è¨‚é–±åˆ†é¡ç®¡ç†
- [ ] è§€çœ‹æ­·å²çµ±è¨ˆ
- [ ] è‡ªå‹•ç•«è³ªé¸æ“‡

## æ³¨æ„äº‹é …

- è«‹éµå®ˆ YouTube æœå‹™æ¢æ¬¾
- ä¸‹è¼‰çš„å…§å®¹åƒ…ä¾›å€‹äººä½¿ç”¨
- è«‹å°Šé‡å‰µä½œè€…çš„ç‰ˆæ¬Š

## æˆæ¬Š

MIT License

---

**è®“ YouTube æ›´å¥½ç”¨** ğŸ¬
