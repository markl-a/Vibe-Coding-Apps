# ğŸ è²ªåƒè›‡éŠæˆ² (Snake Game)
ğŸ¤– **AI-Native | React Native** ğŸš€

ç¶“å…¸çš„è²ªåƒè›‡éŠæˆ²ï¼ŒåŠ å…¥ AI è·¯å¾‘æç¤ºåŠŸèƒ½ï¼Œå¹«åŠ©ç©å®¶è¦åŠƒæœ€ä½³ç§»å‹•è·¯å¾‘ã€‚

## ğŸ“‹ éŠæˆ²ç‰¹è‰²

- âœ… ç¶“å…¸è²ªåƒè›‡ç©æ³•
- âœ… **AI è·¯å¾‘æç¤ºç³»çµ±**ï¼ˆBFS å°‹è·¯ç®—æ³•ï¼‰
- âœ… éŸ¿æ‡‰å¼ç¶²æ ¼è¨­è¨ˆ
- âœ… æ¼¸é€²åŠ é€Ÿæ©Ÿåˆ¶
- âœ… å¾—åˆ†å’Œé•·åº¦è¿½è¹¤
- âœ… æœ€é«˜åˆ†è¨˜éŒ„
- âœ… æµæš¢çš„ç§»å‹•å‹•ç•«
- âœ… ç›´è§€çš„æ–¹å‘æ§åˆ¶
- âœ… æ”¯æ´ iOS å’Œ Android

## ğŸ® éŠæˆ²ç©æ³•

### éŠæˆ²è¦å‰‡
1. ä½¿ç”¨æ–¹å‘æŒ‰éˆ•æ§åˆ¶è›‡çš„ç§»å‹•æ–¹å‘
2. åƒåˆ°ç´…è‰²é£Ÿç‰©è®“è›‡è®Šé•·ä¸¦ç²å¾— 10 åˆ†
3. æ¯æ¬¡åƒåˆ°é£Ÿç‰©ï¼Œç§»å‹•é€Ÿåº¦æœƒç¨å¾®åŠ å¿«
4. æ’åˆ°ç‰†å£æˆ–è‡ªå·±çš„èº«é«”å³éŠæˆ²çµæŸ
5. ç›¡å¯èƒ½ç²å¾—æœ€é«˜åˆ†å’Œæœ€é•·è›‡èº«

### AI è·¯å¾‘æç¤ºåŠŸèƒ½
- é–‹å•Ÿå¾Œï¼Œé»ƒè‰²åŠé€æ˜æ ¼å­é¡¯ç¤ºé€šå¾€é£Ÿç‰©çš„å»ºè­°è·¯å¾‘
- ä½¿ç”¨ BFSï¼ˆå»£åº¦å„ªå…ˆæœç´¢ï¼‰ç®—æ³•è¨ˆç®—æœ€çŸ­è·¯å¾‘
- åªé¡¯ç¤ºå‰ 3 æ­¥ï¼Œé¿å…éåº¦ä¾è³´
- å¹«åŠ©åˆå­¸è€…ç†è§£æœ€ä½³ç§»å‹•ç­–ç•¥

## ğŸš€ å¿«é€Ÿé–‹å§‹

```bash
cd snake-game
npm install
npm start
```

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. éŠæˆ²å¾ªç’°

```javascript
useEffect(() => {
  if (gameStarted && !gameOver) {
    gameLoopRef.current = setInterval(moveSnake, speed);
    return () => clearInterval(gameLoopRef.current);
  }
}, [gameStarted, gameOver, direction, snake, speed]);
```

### 2. AI è·¯å¾‘å°‹æ‰¾ï¼ˆBFS ç®—æ³•ï¼‰

```javascript
const calculateAIPath = () => {
  const head = snake[0];
  const queue = [[head]];
  const visited = new Set([`${head.x},${head.y}`]);

  while (queue.length > 0) {
    const path = queue.shift();
    const current = path[path.length - 1];

    if (current.x === food.x && current.y === food.y) {
      setSuggestedPath(path.slice(1, 4)); // é¡¯ç¤ºå‰ 3 æ­¥
      return;
    }

    // æ¢ç´¢å››å€‹æ–¹å‘
    for (const dir of Object.values(DIRECTIONS)) {
      const next = {
        x: current.x + dir.x,
        y: current.y + dir.y,
      };

      // æª¢æŸ¥æ˜¯å¦æœ‰æ•ˆä¸”æœªè¨ªå•
      if (isValidCell(next) && !visited.has(key)) {
        visited.add(key);
        queue.push([...path, next]);
      }
    }
  }
};
```

### 3. ç¢°æ’æª¢æ¸¬

```javascript
// ç‰†å£ç¢°æ’
if (newHead.x < 0 || newHead.x >= GRID_WIDTH ||
    newHead.y < 0 || newHead.y >= GRID_HEIGHT) {
  endGame();
}

// è‡ªèº«ç¢°æ’
if (snake.some(segment =>
    segment.x === newHead.x && segment.y === newHead.y)) {
  endGame();
}
```

### 4. æ–¹å‘éšŠåˆ—ç³»çµ±

é˜²æ­¢å¿«é€Ÿé€£çºŒæŒ‰éµå°è‡´çš„åå‘ç§»å‹•å•é¡Œï¼š

```javascript
const directionQueueRef = useRef([]);

const changeDirection = (newDir) => {
  if (isValidDirection(newDir)) {
    directionQueueRef.current.push(newDir);
  }
};
```

## ğŸ’¡ å­¸ç¿’åƒ¹å€¼

é€™å€‹éŠæˆ²å¯ä»¥è¨“ç·´ï¼š
1. **æ‰‹çœ¼å”èª¿**: å¿«é€Ÿåæ‡‰å’Œç²¾ç¢ºæ§åˆ¶
2. **ç©ºé–“è¦åŠƒ**: é æ¸¬è›‡çš„ç§»å‹•è·¯å¾‘
3. **ç­–ç•¥æ€è€ƒ**: é¿å…é™·å…¥æ­»è§’
4. **ç®—æ³•ç†è§£**: è§€å¯Ÿ BFS å°‹è·¯éç¨‹

## ğŸ”§ è‡ªè¨‚è¨­å®š

### èª¿æ•´ç¶²æ ¼å¤§å°

```javascript
const CELL_SIZE = 20; // æ ¼å­å¤§å°ï¼ˆåƒç´ ï¼‰
const GRID_WIDTH = Math.floor((width - 40) / CELL_SIZE);
const GRID_HEIGHT = Math.floor((height * 0.6) / CELL_SIZE);
```

### èª¿æ•´åˆå§‹é€Ÿåº¦

```javascript
const [speed, setSpeed] = useState(150); // æ¯«ç§’ï¼ˆè¶Šå°è¶Šå¿«ï¼‰
```

### èª¿æ•´åŠ é€Ÿå¹…åº¦

```javascript
// æ¯æ¬¡åƒé£Ÿç‰©æ¸›å°‘ 2ms
setSpeed(prev => Math.max(50, prev - 2));
```

## ğŸ“ ç®—æ³•èªªæ˜

### BFSï¼ˆå»£åº¦å„ªå…ˆæœç´¢ï¼‰

é©åˆæ‰¾æœ€çŸ­è·¯å¾‘ï¼Œå› ç‚ºï¼š
1. å±¤ç´šå¼æ¢ç´¢ç¢ºä¿å…ˆæ‰¾åˆ°çš„æ˜¯æœ€çŸ­è·¯å¾‘
2. æ™‚é–“è¤‡é›œåº¦ï¼šO(V + E)ï¼Œå…¶ä¸­ V æ˜¯æ ¼å­æ•¸ï¼ŒE æ˜¯é‚Šæ•¸
3. ç©ºé–“è¤‡é›œåº¦ï¼šO(V)ï¼Œéœ€è¦å­˜å„²è¨ªå•éçš„ç¯€é»

### èˆ‡å…¶ä»–ç®—æ³•æ¯”è¼ƒ

- **DFS**: ä¸ä¿è­‰æœ€çŸ­è·¯å¾‘
- **A***: æ›´é«˜æ•ˆä½†å¯¦ç¾è¤‡é›œ
- **Dijkstra**: å°æ–¼ç„¡æ¬Šé‡åœ–éæ–¼è¤‡é›œ

## ğŸ”§ æ“´å±•å»ºè­°

- [ ] æ·»åŠ éšœç¤™ç‰©æ¨¡å¼
- [ ] å¤šäººå°æˆ°ï¼ˆå…©æ¢è›‡ï¼‰
- [ ] é“å…·ç³»çµ±ï¼ˆåŠ é€Ÿã€æ¸›é€Ÿã€ç©¿ç‰†ï¼‰
- [ ] é—œå¡æ¨¡å¼
- [ ] è‡ªè¨‚å¤–è§€ä¸»é¡Œ
- [ ] æ›´é«˜ç´šçš„ AIï¼ˆA* ç®—æ³•ã€é¿å…æ­»è§’ï¼‰
- [ ] æ’è¡Œæ¦œç³»çµ±

## ğŸ“Š æ€§èƒ½å„ªåŒ–

### å·²å¯¦ç¾çš„å„ªåŒ–

1. **æ–¹å‘éšŠåˆ—**: é¿å…ä¸Ÿå¤±è¼¸å…¥
2. **ç¶²æ ¼å¤§å°è¨ˆç®—**: è‡ªé©æ‡‰è¢å¹•
3. **æ¢ä»¶æ¸²æŸ“**: åªåœ¨éœ€è¦æ™‚è¨ˆç®— AI è·¯å¾‘
4. **useRef**: é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“

### å¯èƒ½çš„å„ªåŒ–

```javascript
// ä½¿ç”¨ React.memo å„ªåŒ–å–®å…ƒæ ¼æ¸²æŸ“
const Cell = React.memo(({ x, y, type }) => {
  return <View style={[styles.cell, getCellStyle(type)]} />;
});

// è™›æ“¬åŒ–ç¶²æ ¼ï¼ˆåªæ¸²æŸ“å¯è¦‹éƒ¨åˆ†ï¼‰
// æ¸›å°‘ AI è¨ˆç®—é »ç‡
```

## ğŸ“„ æˆæ¬Š

MIT License

---

**æŒ‘æˆ°ä½ çš„æ¥µé™ï¼Œæˆç‚ºè²ªåƒè›‡å¤§å¸«ï¼ğŸ**
