# Unreal Engine 3D ç¬¬ä¸€äººç¨±å°„æ“ŠéŠæˆ²
ğŸ¤– **AI-Driven | AI-Native** ğŸš€

ä½¿ç”¨ Unreal Engine 5 é–‹ç™¼çš„ 3D ç¬¬ä¸€äººç¨±å°„æ“ŠéŠæˆ²ï¼Œå±•ç¤º UE5 çš„é ‚ç´šåœ–å½¢èƒ½åŠ›å’Œ Blueprint/C++ æ··åˆé–‹ç™¼ã€‚

## ğŸ“‹ å°ˆæ¡ˆæ¦‚è¿°

é€™æ˜¯ä¸€å€‹ç¶“å…¸çš„ 3D FPS éŠæˆ²ï¼Œå…·æœ‰æµæš¢çš„ç¬¬ä¸€äººç¨±è¦–è§’ã€æ­¦å™¨ç³»çµ±ã€æ•µäºº AI å’Œç²¾ç¾çš„ 3D åœ–å½¢ã€‚æœ¬å°ˆæ¡ˆå±•ç¤ºäº† Unreal Engine 5 çš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒåŒ…æ‹¬ Naniteã€Lumen å’Œ Blueprint å¯è¦–åŒ–ç·¨ç¨‹ã€‚

### éŠæˆ²ç‰¹è‰²

- âœ… æµæš¢çš„ç¬¬ä¸€äººç¨±è¦–è§’æ§åˆ¶
- âœ… å¤šç¨®æ­¦å™¨ç³»çµ±ï¼ˆæ‰‹æ§ã€æ­¥æ§ã€éœ°å½ˆæ§ï¼‰
- âœ… æ™ºèƒ½æ•µäºº AI
- âœ… ç‰©ç†ç¢°æ’èˆ‡ç ´å£ç³»çµ±
- âœ… Lumen å…¨å±€å…‰ç…§
- âœ… Nanite è™›æ“¬å¹¾ä½•é«”
- âœ… Blueprint + C++ æ··åˆé–‹ç™¼

## ğŸ® éŠæˆ²ç©æ³•

- **ç§»å‹•**: WASD
- **è·³èº**: ç©ºæ ¼éµ
- **å¥”è·‘**: Left Shift
- **å°„æ“Š**: æ»‘é¼ å·¦éµ
- **ç„æº–**: æ»‘é¼ å³éµ
- **æ›å½ˆ**: R
- **åˆ‡æ›æ­¦å™¨**: 1/2/3 æˆ–æ»‘é¼ æ»¾è¼ª

## ğŸ› ï¸ æŠ€è¡“æ£§

### Unreal Engine ç‰ˆæœ¬
- **Unreal Engine 5.3+** (æ¨è–¦æœ€æ–°ç©©å®šç‰ˆ)
- **Unreal Engine 4.27** ä¹Ÿæ”¯æ´ï¼ˆéœ€èª¿æ•´éƒ¨åˆ†åŠŸèƒ½ï¼‰

### æ ¸å¿ƒæŠ€è¡“

#### åœ–å½¢æŠ€è¡“
- **Lumen** - å‹•æ…‹å…¨å±€å…‰ç…§
- **Nanite** - è™›æ“¬å¹¾ä½•é«”ç³»çµ±
- **Niagara** - ç²’å­ç³»çµ±
- **Ray Tracing** - å…‰ç·šè¿½è¹¤ï¼ˆå¯é¸ï¼‰
- **Temporal Super Resolution** - æ™‚é–“è¶…æ¡æ¨£æŠ—é‹¸é½’

#### ç·¨ç¨‹
- **C++** - æ ¸å¿ƒéŠæˆ²é‚è¼¯
- **Blueprint** - å¯è¦–åŒ–è…³æœ¬
- **UMG** - UI ç³»çµ±
- **Enhanced Input** - å¢å¼·è¼¸å…¥ç³»çµ±

#### ç‰©ç†èˆ‡ç¢°æ’
- **Chaos Physics** - ç‰©ç†å¼•æ“
- **Physics Materials** - ç‰©ç†æè³ª
- **Destructible Meshes** - å¯ç ´å£ç¶²æ ¼

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
unreal-fps-3d/
â”œâ”€â”€ Content/
â”‚   â”œâ”€â”€ Blueprints/
â”‚   â”‚   â”œâ”€â”€ Characters/
â”‚   â”‚   â”‚   â”œâ”€â”€ BP_PlayerCharacter.uasset
â”‚   â”‚   â”‚   â””â”€â”€ BP_EnemyCharacter.uasset
â”‚   â”‚   â”œâ”€â”€ Weapons/
â”‚   â”‚   â”‚   â”œâ”€â”€ BP_WeaponBase.uasset
â”‚   â”‚   â”‚   â”œâ”€â”€ BP_Pistol.uasset
â”‚   â”‚   â”‚   â””â”€â”€ BP_Rifle.uasset
â”‚   â”‚   â””â”€â”€ GameModes/
â”‚   â”‚       â””â”€â”€ BP_FPSGameMode.uasset
â”‚   â”œâ”€â”€ Maps/
â”‚   â”‚   â”œâ”€â”€ MainMenu.umap
â”‚   â”‚   â”œâ”€â”€ Level_01.umap
â”‚   â”‚   â””â”€â”€ TestLevel.umap
â”‚   â”œâ”€â”€ Materials/
â”‚   â”‚   â”œâ”€â”€ M_Character/
â”‚   â”‚   â””â”€â”€ M_Environment/
â”‚   â”œâ”€â”€ Meshes/
â”‚   â”œâ”€â”€ Textures/
â”‚   â”œâ”€â”€ Audio/
â”‚   â”‚   â”œâ”€â”€ Music/
â”‚   â”‚   â””â”€â”€ SFX/
â”‚   â””â”€â”€ UI/
â”‚       â””â”€â”€ WBP_HUD.uasset
â”œâ”€â”€ Source/
â”‚   â””â”€â”€ UnrealFPS/
â”‚       â”œâ”€â”€ Public/
â”‚       â”‚   â”œâ”€â”€ FPSCharacter.h
â”‚       â”‚   â”œâ”€â”€ FPSPlayerController.h
â”‚       â”‚   â”œâ”€â”€ WeaponBase.h
â”‚       â”‚   â””â”€â”€ EnemyAI.h
â”‚       â”œâ”€â”€ Private/
â”‚       â”‚   â”œâ”€â”€ FPSCharacter.cpp
â”‚       â”‚   â”œâ”€â”€ FPSPlayerController.cpp
â”‚       â”‚   â”œâ”€â”€ WeaponBase.cpp
â”‚       â”‚   â””â”€â”€ EnemyAI.cpp
â”‚       â””â”€â”€ UnrealFPS.Build.cs
â”œâ”€â”€ Config/
â”‚   â”œâ”€â”€ DefaultEngine.ini
â”‚   â”œâ”€â”€ DefaultGame.ini
â”‚   â””â”€â”€ DefaultInput.ini
â”œâ”€â”€ UnrealFPS.uproject
â””â”€â”€ README.md
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- **Unreal Engine 5.3+**
- **Visual Studio 2022** (Windows) æˆ– **Xcode** (macOS)
- **é¡¯ç¤ºå¡**: RTX 2060 æˆ–æ›´é«˜ï¼ˆå»ºè­° RTX 3060+ï¼‰
- **RAM**: 16 GB ä»¥ä¸Š
- **å„²å­˜ç©ºé–“**: 50 GB ä»¥ä¸Š

### å®‰è£æ­¥é©Ÿ

#### 1. å®‰è£ Unreal Engine

```bash
# ä¸‹è¼‰ Epic Games Launcher
# https://www.unrealengine.com/download

# é€šé Launcher å®‰è£ Unreal Engine 5.3
# é¸æ“‡ä»¥ä¸‹çµ„ä»¶ï¼š
# - Starter Content
# - Engine Sourceï¼ˆå¯é¸ï¼Œç”¨æ–¼æ·±åº¦é–‹ç™¼ï¼‰
```

#### 2. æ‰“é–‹å°ˆæ¡ˆ

```bash
# æ–¹æ³• 1: é›™æ“Š UnrealFPS.uproject

# æ–¹æ³• 2: é€šé Epic Games Launcher
# é¸æ“‡ "Library" > "Add" > é¸æ“‡å°ˆæ¡ˆè·¯å¾‘

# æ–¹æ³• 3: é€šéå‘½ä»¤åˆ—
UE5Editor.exe "C:\path\to\UnrealFPS.uproject"
```

#### 3. ç·¨è­¯ C++ ä»£ç¢¼

- åœ¨ Unreal Editor ä¸­é¸æ“‡ **Build** > **Build Solution**
- æˆ–ä½¿ç”¨ Visual Studio æ‰“é–‹ `.sln` æª”æ¡ˆé€²è¡Œç·¨è­¯

#### 4. é‹è¡ŒéŠæˆ²

- åœ¨ç·¨è¼¯å™¨ä¸­æŒ‰ **Play** æŒ‰éˆ•ï¼ˆAlt+Pï¼‰
- æˆ–é¸æ“‡ **Play** > **Standalone Game**

## ğŸ’» æ ¸å¿ƒ C++ ä»£ç¢¼

### FPSCharacter.h

ç¬¬ä¸€äººç¨±è§’è‰²é¡åˆ¥å®šç¾©ã€‚

```cpp
// FPSCharacter.h
#pragma once

#include "CoreMinimal.h"
#include "GameFramework/Character.h"
#include "FPSCharacter.generated.h"

UCLASS()
class UNREALFPS_API AFPSCharacter : public ACharacter
{
    GENERATED_BODY()

public:
    AFPSCharacter();

    // ç§»å‹•è¼¸å…¥
    void MoveForward(float Value);
    void MoveRight(float Value);

    // è¦–è§’è¼¸å…¥
    void LookUp(float Value);
    void Turn(float Value);

    // å‹•ä½œè¼¸å…¥
    void StartJump();
    void StopJump();
    void StartSprint();
    void StopSprint();

    // å°„æ“Š
    void StartFire();
    void StopFire();

    // æ­¦å™¨ç³»çµ±
    void EquipWeapon(class AWeaponBase* NewWeapon);
    void SwitchWeapon(int32 WeaponIndex);

    // ç”Ÿå‘½å€¼ç³»çµ±
    UFUNCTION(BlueprintCallable, Category = "Health")
    void TakeDamage(float Damage);

    UFUNCTION(BlueprintCallable, Category = "Health")
    void Heal(float Amount);

protected:
    virtual void BeginPlay() override;
    virtual void SetupPlayerInputComponent(class UInputComponent* PlayerInputComponent) override;

public:
    virtual void Tick(float DeltaTime) override;

    // çµ„ä»¶
    UPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = "Camera")
    class UCameraComponent* FirstPersonCamera;

    UPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = "Mesh")
    class USkeletalMeshComponent* FirstPersonMesh;

    // å±¬æ€§
    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Movement")
    float WalkSpeed = 600.f;

    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Movement")
    float SprintSpeed = 900.f;

    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Health")
    float MaxHealth = 100.f;

    UPROPERTY(BlueprintReadOnly, Category = "Health")
    float CurrentHealth;

    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Weapon")
    TSubclassOf<class AWeaponBase> DefaultWeaponClass;

private:
    bool bIsSprinting = false;
    class AWeaponBase* CurrentWeapon;
    TArray<class AWeaponBase*> Weapons;
};
```

### FPSCharacter.cpp

ç¬¬ä¸€äººç¨±è§’è‰²å¯¦ç¾ã€‚

```cpp
// FPSCharacter.cpp
#include "FPSCharacter.h"
#include "Camera/CameraComponent.h"
#include "Components/CapsuleComponent.h"
#include "Components/SkeletalMeshComponent.h"
#include "GameFramework/CharacterMovementComponent.h"
#include "WeaponBase.h"

AFPSCharacter::AFPSCharacter()
{
    PrimaryActorTick.bCanEverTick = true;

    // è¨­å®šç¢°æ’è† å›Šé«”
    GetCapsuleComponent()->InitCapsuleSize(42.f, 96.f);

    // è¨­å®šè¦–è§’æ—‹è½‰
    bUseControllerRotationPitch = true;
    bUseControllerRotationYaw = true;
    bUseControllerRotationRoll = false;

    // è¨­å®šè§’è‰²ç§»å‹•
    GetCharacterMovement()->bOrientRotationToMovement = false;
    GetCharacterMovement()->JumpZVelocity = 600.f;
    GetCharacterMovement()->AirControl = 0.2f;
    GetCharacterMovement()->MaxWalkSpeed = WalkSpeed;

    // å‰µå»ºç¬¬ä¸€äººç¨±ç›¸æ©Ÿ
    FirstPersonCamera = CreateDefaultSubobject<UCameraComponent>(TEXT("FirstPersonCamera"));
    FirstPersonCamera->SetupAttachment(GetCapsuleComponent());
    FirstPersonCamera->SetRelativeLocation(FVector(0.f, 0.f, 64.f));
    FirstPersonCamera->bUsePawnControlRotation = true;

    // å‰µå»ºç¬¬ä¸€äººç¨±æ‰‹è‡‚ç¶²æ ¼
    FirstPersonMesh = CreateDefaultSubobject<USkeletalMeshComponent>(TEXT("FirstPersonMesh"));
    FirstPersonMesh->SetupAttachment(FirstPersonCamera);
    FirstPersonMesh->SetOnlyOwnerSee(true);
    FirstPersonMesh->bCastDynamicShadow = false;
    FirstPersonMesh->CastShadow = false;

    // éš±è—ç¬¬ä¸‰äººç¨±ç¶²æ ¼ï¼ˆå¾ç¬¬ä¸€äººç¨±è¦–è§’ï¼‰
    GetMesh()->SetOwnerNoSee(true);
}

void AFPSCharacter::BeginPlay()
{
    Super::BeginPlay();

    CurrentHealth = MaxHealth;

    // ç”Ÿæˆé»˜èªæ­¦å™¨
    if (DefaultWeaponClass)
    {
        FActorSpawnParameters SpawnParams;
        SpawnParams.Owner = this;
        SpawnParams.Instigator = this;

        AWeaponBase* DefaultWeapon = GetWorld()->SpawnActor<AWeaponBase>(
            DefaultWeaponClass,
            FVector::ZeroVector,
            FRotator::ZeroRotator,
            SpawnParams
        );

        if (DefaultWeapon)
        {
            EquipWeapon(DefaultWeapon);
        }
    }
}

void AFPSCharacter::Tick(float DeltaTime)
{
    Super::Tick(DeltaTime);
}

void AFPSCharacter::SetupPlayerInputComponent(UInputComponent* PlayerInputComponent)
{
    Super::SetupPlayerInputComponent(PlayerInputComponent);

    // ç§»å‹•ç¶å®š
    PlayerInputComponent->BindAxis("MoveForward", this, &AFPSCharacter::MoveForward);
    PlayerInputComponent->BindAxis("MoveRight", this, &AFPSCharacter::MoveRight);

    // è¦–è§’ç¶å®š
    PlayerInputComponent->BindAxis("LookUp", this, &AFPSCharacter::LookUp);
    PlayerInputComponent->BindAxis("Turn", this, &AFPSCharacter::Turn);

    // å‹•ä½œç¶å®š
    PlayerInputComponent->BindAction("Jump", IE_Pressed, this, &AFPSCharacter::StartJump);
    PlayerInputComponent->BindAction("Jump", IE_Released, this, &AFPSCharacter::StopJump);
    PlayerInputComponent->BindAction("Sprint", IE_Pressed, this, &AFPSCharacter::StartSprint);
    PlayerInputComponent->BindAction("Sprint", IE_Released, this, &AFPSCharacter::StopSprint);

    // å°„æ“Šç¶å®š
    PlayerInputComponent->BindAction("Fire", IE_Pressed, this, &AFPSCharacter::StartFire);
    PlayerInputComponent->BindAction("Fire", IE_Released, this, &AFPSCharacter::StopFire);
}

void AFPSCharacter::MoveForward(float Value)
{
    if (Value != 0.0f)
    {
        AddMovementInput(GetActorForwardVector(), Value);
    }
}

void AFPSCharacter::MoveRight(float Value)
{
    if (Value != 0.0f)
    {
        AddMovementInput(GetActorRightVector(), Value);
    }
}

void AFPSCharacter::LookUp(float Value)
{
    AddControllerPitchInput(Value);
}

void AFPSCharacter::Turn(float Value)
{
    AddControllerYawInput(Value);
}

void AFPSCharacter::StartJump()
{
    Jump();
}

void AFPSCharacter::StopJump()
{
    StopJumping();
}

void AFPSCharacter::StartSprint()
{
    bIsSprinting = true;
    GetCharacterMovement()->MaxWalkSpeed = SprintSpeed;
}

void AFPSCharacter::StopSprint()
{
    bIsSprinting = false;
    GetCharacterMovement()->MaxWalkSpeed = WalkSpeed;
}

void AFPSCharacter::StartFire()
{
    if (CurrentWeapon)
    {
        CurrentWeapon->StartFire();
    }
}

void AFPSCharacter::StopFire()
{
    if (CurrentWeapon)
    {
        CurrentWeapon->StopFire();
    }
}

void AFPSCharacter::EquipWeapon(AWeaponBase* NewWeapon)
{
    if (!NewWeapon) return;

    // å¸ä¸‹ç•¶å‰æ­¦å™¨
    if (CurrentWeapon)
    {
        CurrentWeapon->OnUnequipped();
    }

    // è£å‚™æ–°æ­¦å™¨
    CurrentWeapon = NewWeapon;
    CurrentWeapon->SetOwner(this);
    CurrentWeapon->AttachToComponent(
        FirstPersonMesh,
        FAttachmentTransformRules::SnapToTargetNotIncludingScale,
        TEXT("GripPoint")
    );
    CurrentWeapon->OnEquipped();

    // æ·»åŠ åˆ°æ­¦å™¨åˆ—è¡¨
    Weapons.AddUnique(NewWeapon);
}

void AFPSCharacter::SwitchWeapon(int32 WeaponIndex)
{
    if (Weapons.IsValidIndex(WeaponIndex))
    {
        EquipWeapon(Weapons[WeaponIndex]);
    }
}

void AFPSCharacter::TakeDamage(float Damage)
{
    CurrentHealth -= Damage;
    CurrentHealth = FMath::Max(CurrentHealth, 0.f);

    UE_LOG(LogTemp, Warning, TEXT("å—åˆ° %.1f å‚·å®³ï¼å‰©é¤˜ç”Ÿå‘½å€¼: %.1f"), Damage, CurrentHealth);

    if (CurrentHealth <= 0.f)
    {
        // æ­»äº¡é‚è¼¯
        UE_LOG(LogTemp, Warning, TEXT("ç©å®¶æ­»äº¡ï¼"));
        // TODO: å¯¦ç¾æ­»äº¡è™•ç†
    }
}

void AFPSCharacter::Heal(float Amount)
{
    CurrentHealth += Amount;
    CurrentHealth = FMath::Min(CurrentHealth, MaxHealth);

    UE_LOG(LogTemp, Log, TEXT("æ¢å¾© %.1f ç”Ÿå‘½å€¼ï¼ç•¶å‰ç”Ÿå‘½å€¼: %.1f"), Amount, CurrentHealth);
}
```

### WeaponBase.h

æ­¦å™¨åŸºé¡ã€‚

```cpp
// WeaponBase.h
#pragma once

#include "CoreMinimal.h"
#include "GameFramework/Actor.h"
#include "WeaponBase.generated.h"

UCLASS()
class UNREALFPS_API AWeaponBase : public AActor
{
    GENERATED_BODY()

public:
    AWeaponBase();

    // æ­¦å™¨å‹•ä½œ
    void StartFire();
    void StopFire();
    void Reload();

    // ç”Ÿå‘½é€±æœŸ
    void OnEquipped();
    void OnUnequipped();

protected:
    virtual void BeginPlay() override;
    virtual void Fire();
    virtual void FireProjectile();
    virtual void FireHitscan();

public:
    virtual void Tick(float DeltaTime) override;

    // çµ„ä»¶
    UPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = "Components")
    class USkeletalMeshComponent* WeaponMesh;

    // æ­¦å™¨å±¬æ€§
    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Weapon")
    float Damage = 20.f;

    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Weapon")
    float FireRate = 0.1f;  // æ¯ 0.1 ç§’ä¸€ç™¼

    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Weapon")
    int32 MaxAmmo = 30;

    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Weapon")
    int32 CurrentAmmo = 30;

    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Weapon")
    float Range = 10000.f;

    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Weapon")
    bool bIsAutomatic = true;

    // éŸ³æ•ˆ
    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Audio")
    class USoundBase* FireSound;

    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Audio")
    class USoundBase* ReloadSound;

    // ç²’å­æ•ˆæœ
    UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Effects")
    class UParticleSystem* MuzzleFlash;

private:
    bool bIsFiring = false;
    float LastFireTime = 0.f;
    FTimerHandle FireTimerHandle;
};
```

## ğŸ¨ ç¾è¡“è³‡æº

### æ¨è–¦è³‡æºåº«

- **Unreal Marketplace** - å®˜æ–¹è³‡æºå•†åº—
- **Quixel Megascans** - é«˜å“è³ªæƒæç´ æï¼ˆå…è²»for UEï¼‰
- **Sketchfab** - 3D æ¨¡å‹
- **FreeSoundEffects** - å…è²»éŸ³æ•ˆ

## ğŸ¤– AI è¼”åŠ©é–‹ç™¼

### 1. C++ ä»£ç¢¼ç”Ÿæˆ

```
"å‰µå»ºä¸€å€‹ Unreal Engine C++ é¡åˆ¥ï¼š
- ç¹¼æ‰¿è‡ª AWeaponBase
- å¯¦ç¾æ•£å½ˆæ§é‚è¼¯
- ä¸€æ¬¡ç™¼å°„å¤šå€‹å­å½ˆ
- åŒ…å«å½ˆé“æ“´æ•£"
```

### 2. Blueprint é‚è¼¯

```
"æè¿°ä¸€å€‹ UE5 Blueprintï¼š
ç•¶ç©å®¶é€²å…¥è§¸ç™¼å€åŸŸæ™‚ï¼š
1. æ’­æ”¾è­¦å ±éŸ³æ•ˆ
2. ç”Ÿæˆ 3 å€‹æ•µäºº
3. é—œé–‰å…¥å£é–€"
```

## ğŸ“š å­¸ç¿’è³‡æº

### å®˜æ–¹è³‡æº
- [Unreal Engine æ–‡æª”](https://docs.unrealengine.com/)
- [Unreal Online Learning](https://www.unrealengine.com/en-US/onlinelearning)

### æ¨è–¦æ•™å­¸
- **Unreal Sensei** - YouTube
- **Virtus Learning Hub** - ç³»çµ±æ•™ç¨‹
- **Ryan Laley** - Blueprint é€²éš

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆä½¿ç”¨ MIT æˆæ¬Šæ¢æ¬¾ã€‚

---

**ğŸ® ä½¿ç”¨ Unreal Engine å’Œ AI å‰µé€ ä½ çš„ AAA ç´š FPS éŠæˆ²ï¼**

**æœ€å¾Œæ›´æ–°**: 2025-11-16
**Unreal Engine ç‰ˆæœ¬**: 5.3+
**ç¶­è­·ç‹€æ…‹**: âœ… æ´»èºé–‹ç™¼
