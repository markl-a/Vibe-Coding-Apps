# å°ˆæ¡ˆç®¡ç†ç³»çµ± (Project Management System)
ğŸ¤– **AI-Driven | AI-Native** ğŸš€

å°ˆæ¡ˆç®¡ç†ç³»çµ±å¹«åŠ©åœ˜éšŠæœ‰æ•ˆè¦åŠƒã€åŸ·è¡Œå’Œè¿½è¹¤å°ˆæ¡ˆé€²åº¦ï¼Œç¢ºä¿å°ˆæ¡ˆæŒ‰æ™‚ã€æŒ‰é ç®—å®Œæˆã€‚ä½¿ç”¨ AI è¼”åŠ©é–‹ç™¼å¯ä»¥å¿«é€Ÿå»ºç«‹åŠŸèƒ½å®Œæ•´ã€å”ä½œé«˜æ•ˆçš„å°ˆæ¡ˆç®¡ç†å¹³å°ã€‚

## ğŸ†• æœ€æ–°æ›´æ–°

### âœ¨ AI å¢å¼·åŠŸèƒ½å·²å…¨é¢æ•´åˆ

æœ¬å°ˆæ¡ˆç®¡ç†ç³»çµ±ç¾å·²æ•´åˆå®Œæ•´çš„ AI è¼”åŠ©åŠŸèƒ½ï¼š

- âœ… **AI åŠ©æ‰‹æ•´åˆæ¨¡çµ„**: æä¾›ä»»å‹™ä¼°æ™‚ã€é¢¨éšªé æ¸¬ã€è³‡æºå„ªåŒ–ç­‰æ ¸å¿ƒ AI åŠŸèƒ½
- âœ… **AI å¢å¼· Sprint Manager**: æ™ºèƒ½æ•…äº‹é»ä¼°ç®—ã€è‡ªå‹•åŒ– Sprint è¦åŠƒã€å¯¦æ™‚é€²åº¦é æ¸¬
- âœ… **æ•´åˆç¤ºä¾‹**: å±•ç¤ºæ‰€æœ‰æ¨¡çµ„å”åŒå·¥ä½œçš„å®Œæ•´ç¤ºä¾‹
- âœ… **Docker éƒ¨ç½²**: ä¸€éµå•Ÿå‹•å®Œæ•´ç³»çµ±ï¼Œæ”¯æŒ Docker Compose
- âœ… **å®Œæ•´æ–‡æª”**: è©³ç´°çš„ä½¿ç”¨æŒ‡å—å’Œ API æ–‡æª”

### ğŸš€ å¿«é€Ÿé–‹å§‹

```bash
# ä½¿ç”¨ Docker å¿«é€Ÿå•Ÿå‹•ï¼ˆæ¨è–¦ï¼‰
./docker-run.sh

# æˆ–æ‰‹å‹•å•Ÿå‹•
docker-compose up -d
```

è¨ªå•æœå‹™ï¼š
- Sprint Manager: http://localhost:8501
- Kanban Board: http://localhost:8502
- Gantt Chart: http://localhost:8503
- Dashboard: http://localhost:8504

## ğŸ“‹ ç›®éŒ„

- [å°ˆæ¡ˆç®¡ç†æ¦‚è¿°](#å°ˆæ¡ˆç®¡ç†æ¦‚è¿°)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [æŠ€è¡“æ¶æ§‹](#æŠ€è¡“æ¶æ§‹)
- [æ¨è–¦æŠ€è¡“æ£§](#æ¨è–¦æŠ€è¡“æ£§)
- [AI æ™ºèƒ½åŠŸèƒ½](#ai-æ™ºèƒ½åŠŸèƒ½)
- [é–‹ç™¼å¯¦ä¾‹](#é–‹ç™¼å¯¦ä¾‹)
- [é–‹ç™¼è·¯ç·šåœ–](#é–‹ç™¼è·¯ç·šåœ–)

---

## ğŸ¯ å°ˆæ¡ˆç®¡ç†æ¦‚è¿°

### ä»€éº¼æ˜¯å°ˆæ¡ˆç®¡ç†ç³»çµ±ï¼Ÿ

å°ˆæ¡ˆç®¡ç†ç³»çµ±æ˜¯å”åŠ©åœ˜éšŠè¦åŠƒã€çµ„ç¹”å’Œç®¡ç†è³‡æºä»¥é”æˆç‰¹å®šç›®æ¨™çš„å·¥å…·ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š
- **å°ˆæ¡ˆè¦åŠƒ**ï¼šWBSã€ç”˜ç‰¹åœ–ã€é‡Œç¨‹ç¢‘
- **ä»»å‹™ç®¡ç†**ï¼šä»»å‹™åˆ†é…ã€å„ªå…ˆç´šã€ç‹€æ…‹è¿½è¹¤
- **è³‡æºç®¡ç†**ï¼šäººåŠ›ã€é ç®—ã€è¨­å‚™åˆ†é…
- **æ™‚ç¨‹ç®¡ç†**ï¼šæ’ç¨‹ã€é—œéµè·¯å¾‘ã€å»¶é²è­¦ç¤º
- **åœ˜éšŠå”ä½œ**ï¼šè¨è«–ã€æ–‡æª”å…±äº«ã€å³æ™‚é€šè¨Š
- **å ±è¡¨åˆ†æ**ï¼šé€²åº¦å ±å‘Šã€æˆæœ¬åˆ†æã€é¢¨éšªè©•ä¼°

### å°ˆæ¡ˆç®¡ç†çš„åƒ¹å€¼

- ğŸ“Š **æå‡æ•ˆç‡**ï¼šæ¸…æ™°çš„ä»»å‹™åˆ†é…å’Œé€²åº¦è¿½è¹¤
- ğŸ¯ **æ§åˆ¶æˆæœ¬**ï¼šé ç®—ç®¡ç†å’Œæˆæœ¬è¿½è¹¤
- â±ï¸ **æº–æ™‚äº¤ä»˜**ï¼šæ™‚ç¨‹ç®¡ç†å’Œé¢¨éšªé è­¦
- ğŸ¤ **åœ˜éšŠå”ä½œ**ï¼šçµ±ä¸€å¹³å°ï¼Œé«˜æ•ˆæºé€š
- ğŸ“ˆ **æ•¸æ“šé©…å‹•**ï¼šåŸºæ–¼æ•¸æ“šçš„æ±ºç­–æ”¯æŒ

---

## ğŸ§© æ ¸å¿ƒåŠŸèƒ½

### 1. å°ˆæ¡ˆç®¡ç†

#### å°ˆæ¡ˆçµæ§‹
```typescript
interface Project {
  id: string;
  name: string;
  description: string;
  code: string; // å°ˆæ¡ˆä»£ç¢¼
  type: 'WATERFALL' | 'AGILE' | 'HYBRID';
  status: 'PLANNING' | 'IN_PROGRESS' | 'ON_HOLD' | 'COMPLETED' | 'CANCELLED';
  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'CRITICAL';

  // æ™‚é–“
  startDate: Date;
  endDate: Date;
  actualStartDate?: Date;
  actualEndDate?: Date;

  // åœ˜éšŠ
  owner: User;
  manager: User;
  team: TeamMember[];
  stakeholders: Stakeholder[];

  // é ç®—
  budget: number;
  actualCost: number;
  currency: string;

  // é€²åº¦
  progress: number; // 0-100
  health: 'GREEN' | 'YELLOW' | 'RED';

  // é—œè¯
  phases: ProjectPhase[];
  milestones: Milestone[];
  tasks: Task[];
  documents: Document[];
  risks: Risk[];

  createdAt: Date;
  updatedAt: Date;
}

interface ProjectPhase {
  id: string;
  projectId: string;
  name: string;
  description: string;
  order: number;
  startDate: Date;
  endDate: Date;
  status: 'NOT_STARTED' | 'IN_PROGRESS' | 'COMPLETED';
  progress: number;
  tasks: Task[];
}

interface Milestone {
  id: string;
  projectId: string;
  name: string;
  description: string;
  dueDate: Date;
  completedDate?: Date;
  status: 'PENDING' | 'ACHIEVED' | 'MISSED';
  deliverables: Deliverable[];
}
```

### 2. ä»»å‹™ç®¡ç†

#### ä»»å‹™çµæ§‹
```typescript
interface Task {
  id: string;
  projectId: string;
  phaseId?: string;
  parentTaskId?: string; // çˆ¶ä»»å‹™ï¼ˆå­ä»»å‹™ï¼‰

  title: string;
  description: string;
  type: 'TASK' | 'BUG' | 'FEATURE' | 'IMPROVEMENT';
  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';
  status: 'TODO' | 'IN_PROGRESS' | 'IN_REVIEW' | 'DONE' | 'BLOCKED';

  // åˆ†é…
  assignee?: User;
  reporter: User;
  watchers: User[];

  // æ™‚é–“
  startDate?: Date;
  dueDate?: Date;
  estimatedHours: number;
  actualHours: number;
  completedDate?: Date;

  // ä¾è³´é—œä¿‚
  dependencies: TaskDependency[];
  blockedBy: Task[];

  // å…¶ä»–
  tags: string[];
  attachments: Attachment[];
  comments: Comment[];
  subtasks: Task[];

  createdAt: Date;
  updatedAt: Date;
}

interface TaskDependency {
  taskId: string;
  dependsOnTaskId: string;
  type: 'FINISH_TO_START' | 'START_TO_START' | 'FINISH_TO_FINISH' | 'START_TO_FINISH';
  lag?: number; // å»¶é²å¤©æ•¸
}
```

### 3. æ•æ·çœ‹æ¿ (Kanban/Scrum)

#### Sprint ç®¡ç†
```typescript
interface Sprint {
  id: string;
  projectId: string;
  name: string;
  goal: string;
  status: 'PLANNED' | 'ACTIVE' | 'COMPLETED';

  startDate: Date;
  endDate: Date;

  // å®¹é‡
  capacity: number; // æ•…äº‹é»æˆ–å°æ™‚
  committed: number;
  completed: number;

  // ä»»å‹™
  backlogItems: BacklogItem[];

  // æœƒè­°
  dailyStandups: DailyStandup[];
  retrospective?: Retrospective;

  // æŒ‡æ¨™
  velocity: number;
  burndownChart: BurndownPoint[];
}

interface BacklogItem {
  id: string;
  title: string;
  description: string;
  type: 'USER_STORY' | 'BUG' | 'TASK' | 'EPIC';
  storyPoints?: number;
  priority: number;
  status: 'BACKLOG' | 'TODO' | 'IN_PROGRESS' | 'DONE';
  acceptanceCriteria: string[];
  tasks: Task[];
}
```

### 4. è³‡æºç®¡ç†

#### è³‡æºåˆ†é…
```typescript
interface ResourceAllocation {
  id: string;
  projectId: string;
  resourceId: string;
  resourceType: 'HUMAN' | 'EQUIPMENT' | 'MATERIAL';

  // äººåŠ›è³‡æº
  user?: User;
  role: string;
  allocationPercentage: number; // 0-100

  // æ™‚é–“
  startDate: Date;
  endDate: Date;

  // æˆæœ¬
  hourlyRate?: number;
  totalCost: number;

  // å¯ç”¨æ€§
  availability: Availability[];
}

interface Availability {
  date: Date;
  availableHours: number;
  allocatedHours: number;
  isOverallocated: boolean;
}
```

### 5. æ™‚ç¨‹ç®¡ç†

#### ç”˜ç‰¹åœ–æ•¸æ“š
```typescript
interface GanttTask {
  id: string;
  name: string;
  startDate: Date;
  endDate: Date;
  duration: number; // å¤©æ•¸
  progress: number; // 0-100
  dependencies: string[]; // ä¾è³´çš„ä»»å‹™ ID
  assignee?: string;
  milestone: boolean;
  critical: boolean; // æ˜¯å¦åœ¨é—œéµè·¯å¾‘ä¸Š
}

// é—œéµè·¯å¾‘åˆ†æ
interface CriticalPath {
  tasks: Task[];
  totalDuration: number;
  slack: number; // æµ®å‹•æ™‚é–“
  riskLevel: 'LOW' | 'MEDIUM' | 'HIGH';
}
```

### 6. é¢¨éšªç®¡ç†

#### é¢¨éšªè¿½è¹¤
```typescript
interface Risk {
  id: string;
  projectId: string;
  title: string;
  description: string;
  category: 'TECHNICAL' | 'SCHEDULE' | 'COST' | 'RESOURCE' | 'EXTERNAL';

  // è©•ä¼°
  probability: 'LOW' | 'MEDIUM' | 'HIGH'; // ç™¼ç”Ÿæ©Ÿç‡
  impact: 'LOW' | 'MEDIUM' | 'HIGH'; // å½±éŸ¿ç¨‹åº¦
  severity: number; // åš´é‡æ€§ = æ©Ÿç‡ Ã— å½±éŸ¿

  // æ‡‰å°
  mitigation: string; // ç·©è§£æªæ–½
  contingency: string; // æ‡‰æ€¥è¨ˆåŠƒ
  owner: User;

  status: 'IDENTIFIED' | 'ANALYZING' | 'MITIGATING' | 'RESOLVED' | 'OCCURRED';

  identifiedDate: Date;
  reviewDate?: Date;
}
```

---

## ğŸ—ï¸ æŠ€è¡“æ¶æ§‹

### æ¨è–¦æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             å‰ç«¯æ‡‰ç”¨å±¤                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Web App  â”‚  â”‚ Mobile   â”‚  â”‚ Desktop  â”‚  â”‚
â”‚  â”‚ (React)  â”‚  â”‚ App      â”‚  â”‚ App      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            API å±¤ (REST/GraphQL)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ¥­å‹™æœå‹™å±¤                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ å°ˆæ¡ˆ   â”‚ â”‚ ä»»å‹™   â”‚ â”‚ è³‡æº   â”‚  ...     â”‚
â”‚  â”‚ æœå‹™   â”‚ â”‚ æœå‹™   â”‚ â”‚ æœå‹™   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               æ•¸æ“šå±¤                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚PostgreSQLâ”‚ â”‚  Redis   â”‚ â”‚ MinIO/S3 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            æ•´åˆæœå‹™                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  éƒµä»¶    â”‚ â”‚  é€šçŸ¥    â”‚ â”‚  æ—¥æ›†    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’» æ¨è–¦æŠ€è¡“æ£§

### å¾Œç«¯: Node.js + NestJS

```typescript
// ç¯„ä¾‹ï¼šä»»å‹™æœå‹™
@Injectable()
export class TaskService {
  constructor(
    @InjectRepository(Task)
    private taskRepository: Repository<Task>,
    private notificationService: NotificationService,
  ) {}

  async createTask(createTaskDto: CreateTaskDto): Promise<Task> {
    const task = new Task();
    Object.assign(task, createTaskDto);

    // æª¢æŸ¥ä¾è³´é—œä¿‚
    if (createTaskDto.dependencyIds?.length > 0) {
      const dependencies = await this.taskRepository.findByIds(
        createTaskDto.dependencyIds,
      );
      task.dependencies = dependencies.map((dep) => ({
        taskId: task.id,
        dependsOnTaskId: dep.id,
        type: 'FINISH_TO_START',
      }));
    }

    const savedTask = await this.taskRepository.save(task);

    // é€šçŸ¥ç›¸é—œäººå“¡
    if (task.assignee) {
      await this.notificationService.sendTaskAssignedNotification(
        task.assignee,
        savedTask,
      );
    }

    return savedTask;
  }

  async updateTaskStatus(
    taskId: string,
    newStatus: TaskStatus,
    userId: string,
  ): Promise<Task> {
    const task = await this.findOne(taskId);
    const oldStatus = task.status;

    task.status = newStatus;
    task.updatedBy = userId;

    // è‡ªå‹•è¨­ç½®å®Œæˆæ™‚é–“
    if (newStatus === 'DONE' && !task.completedDate) {
      task.completedDate = new Date();
    }

    // æª¢æŸ¥ä¾è³´ä»»å‹™
    if (newStatus === 'DONE') {
      await this.checkAndUnblockDependentTasks(taskId);
    }

    await this.taskRepository.save(task);

    // è¨˜éŒ„æ­·å²
    await this.createTaskHistory(taskId, {
      field: 'status',
      oldValue: oldStatus,
      newValue: newStatus,
      changedBy: userId,
    });

    // é€šçŸ¥ç›¸é—œäººå“¡
    await this.notificationService.sendTaskStatusChangeNotification(task);

    return task;
  }

  async checkAndUnblockDependentTasks(taskId: string): Promise<void> {
    // æŸ¥æ‰¾ä¾è³´æ­¤ä»»å‹™çš„å…¶ä»–ä»»å‹™
    const dependentTasks = await this.taskRepository
      .createQueryBuilder('task')
      .innerJoin('task.dependencies', 'dep')
      .where('dep.dependsOnTaskId = :taskId', { taskId })
      .andWhere('task.status = :status', { status: 'BLOCKED' })
      .getMany();

    for (const task of dependentTasks) {
      // æª¢æŸ¥æ˜¯å¦æ‰€æœ‰ä¾è³´éƒ½å·²å®Œæˆ
      const allDependenciesCompleted =
        await this.checkAllDependenciesCompleted(task.id);

      if (allDependenciesCompleted) {
        task.status = 'TODO';
        await this.taskRepository.save(task);

        // é€šçŸ¥ä»»å‹™è² è²¬äºº
        await this.notificationService.sendTaskUnblockedNotification(task);
      }
    }
  }

  async calculateProjectProgress(projectId: string): Promise<number> {
    const tasks = await this.taskRepository.find({
      where: { projectId },
    });

    if (tasks.length === 0) return 0;

    const totalWeight = tasks.reduce(
      (sum, task) => sum + (task.estimatedHours || 1),
      0,
    );
    const completedWeight = tasks
      .filter((task) => task.status === 'DONE')
      .reduce((sum, task) => sum + (task.estimatedHours || 1), 0);

    return Math.round((completedWeight / totalWeight) * 100);
  }
}
```

### å‰ç«¯: React + Ant Design + DnD

```tsx
// ç¯„ä¾‹ï¼šçœ‹æ¿è¦–åœ–
import React, { useState } from 'react';
import { Card, Avatar, Tag, Tooltip } from 'antd';
import { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';
import { ClockCircleOutlined, UserOutlined } from '@ant-design/icons';

interface KanbanBoardProps {
  projectId: string;
}

const KanbanBoard: React.FC<KanbanBoardProps> = ({ projectId }) => {
  const [columns, setColumns] = useState<KanbanColumn[]>([
    { id: 'TODO', title: 'å¾…è™•ç†', tasks: [] },
    { id: 'IN_PROGRESS', title: 'é€²è¡Œä¸­', tasks: [] },
    { id: 'IN_REVIEW', title: 'å¯©æŸ¥ä¸­', tasks: [] },
    { id: 'DONE', title: 'å·²å®Œæˆ', tasks: [] },
  ]);

  const onDragEnd = async (result: any) => {
    const { source, destination, draggableId } = result;

    if (!destination) return;

    if (
      source.droppableId === destination.droppableId &&
      source.index === destination.index
    ) {
      return;
    }

    const sourceColumn = columns.find((col) => col.id === source.droppableId);
    const destColumn = columns.find((col) => col.id === destination.droppableId);

    if (!sourceColumn || !destColumn) return;

    // æ›´æ–°ä»»å‹™ç‹€æ…‹
    await taskService.updateTaskStatus(draggableId, destColumn.id);

    // æ›´æ–°æœ¬åœ°ç‹€æ…‹
    const newColumns = [...columns];
    const [movedTask] = sourceColumn.tasks.splice(source.index, 1);
    destColumn.tasks.splice(destination.index, 0, movedTask);
    setColumns(newColumns);
  };

  return (
    <DragDropContext onDragEnd={onDragEnd}>
      <div style={{ display: 'flex', gap: '16px', overflow: 'auto' }}>
        {columns.map((column) => (
          <Droppable key={column.id} droppableId={column.id}>
            {(provided, snapshot) => (
              <div
                ref={provided.innerRef}
                {...provided.droppableProps}
                style={{
                  minWidth: '300px',
                  backgroundColor: snapshot.isDraggingOver ? '#f0f0f0' : '#fafafa',
                  padding: '8px',
                  borderRadius: '4px',
                }}
              >
                <h3>{column.title}</h3>
                {column.tasks.map((task, index) => (
                  <Draggable key={task.id} draggableId={task.id} index={index}>
                    {(provided, snapshot) => (
                      <Card
                        ref={provided.innerRef}
                        {...provided.draggableProps}
                        {...provided.dragHandleProps}
                        style={{
                          marginBottom: '8px',
                          ...provided.draggableProps.style,
                        }}
                        size="small"
                      >
                        <div>{task.title}</div>
                        <div style={{ marginTop: '8px', display: 'flex', justifyContent: 'space-between' }}>
                          <Tag color={getPriorityColor(task.priority)}>
                            {task.priority}
                          </Tag>
                          <div>
                            {task.estimatedHours && (
                              <Tooltip title="é ä¼°æ™‚æ•¸">
                                <ClockCircleOutlined /> {task.estimatedHours}h
                              </Tooltip>
                            )}
                            {task.assignee && (
                              <Tooltip title={task.assignee.name}>
                                <Avatar size="small" src={task.assignee.avatar}>
                                  {task.assignee.name[0]}
                                </Avatar>
                              </Tooltip>
                            )}
                          </div>
                        </div>
                      </Card>
                    )}
                  </Draggable>
                ))}
                {provided.placeholder}
              </div>
            )}
          </Droppable>
        ))}
      </div>
    </DragDropContext>
  );
};

export default KanbanBoard;
```

---

## ğŸ¤– AI æ™ºèƒ½åŠŸèƒ½

### 1. æ™ºèƒ½ä»»å‹™ä¼°æ™‚

```python
# ä½¿ç”¨æ©Ÿå™¨å­¸ç¿’é æ¸¬ä»»å‹™å·¥æ™‚
from sklearn.ensemble import RandomForestRegressor
import pandas as pd

class TaskEstimationService:
    def __init__(self):
        self.model = RandomForestRegressor()

    def train_model(self, historical_tasks):
        """åŸºæ–¼æ­·å²ä»»å‹™è¨“ç·´æ¨¡å‹"""
        features = self.extract_features(historical_tasks)
        actual_hours = [task['actual_hours'] for task in historical_tasks]

        self.model.fit(features, actual_hours)

    def estimate_task(self, task: dict) -> dict:
        """é æ¸¬ä»»å‹™å·¥æ™‚"""
        features = self.extract_features([task])
        predicted_hours = self.model.predict(features)[0]

        # è¨ˆç®—ä¿¡å¿ƒå€é–“
        confidence = self.calculate_confidence(task)

        return {
            'estimated_hours': round(predicted_hours, 1),
            'confidence': confidence,
            'range': {
                'min': round(predicted_hours * 0.8, 1),
                'max': round(predicted_hours * 1.2, 1),
            },
            'similar_tasks': self.find_similar_tasks(task),
        }

    def extract_features(self, tasks):
        """æå–ä»»å‹™ç‰¹å¾µ"""
        features = []
        for task in tasks:
            features.append([
                task['complexity'],  # è¤‡é›œåº¦ 1-5
                task['priority'],    # å„ªå…ˆç´š 1-4
                len(task['description']),  # æè¿°é•·åº¦
                task['num_subtasks'],  # å­ä»»å‹™æ•¸é‡
                task['assignee_experience'],  # è² è²¬äººç¶“é©—å€¼
                task['dependencies_count'],  # ä¾è³´ä»»å‹™æ•¸
            ])
        return features
```

### 2. é¢¨éšªé æ¸¬

```typescript
// AI é©…å‹•çš„å°ˆæ¡ˆé¢¨éšªé æ¸¬
class ProjectRiskPredictionService {
  async analyzeProjectRisks(projectId: string): Promise<RiskAnalysis> {
    const project = await this.getProjectWithMetrics(projectId);

    // æ”¶é›†é¢¨éšªæŒ‡æ¨™
    const riskIndicators = {
      // é€²åº¦é¢¨éšª
      scheduleVariance: this.calculateScheduleVariance(project),
      criticalPathDelay: this.checkCriticalPathDelay(project),
      milestonesMissed: this.countMissedMilestones(project),

      // æˆæœ¬é¢¨éšª
      budgetVariance: this.calculateBudgetVariance(project),
      burnRate: this.calculateBurnRate(project),

      // è³‡æºé¢¨éšª
      resourceUtilization: this.getResourceUtilization(project),
      keyPersonDependency: this.assessKeyPersonRisk(project),

      // åœ˜éšŠé¢¨éšª
      teamVelocityTrend: this.analyzeVelocityTrend(project),
      teamMorale: this.estimateTeamMorale(project),
    };

    // ä½¿ç”¨æ©Ÿå™¨å­¸ç¿’æ¨¡å‹è©•ä¼°æ•´é«”é¢¨éšª
    const overallRisk = await this.mlModel.predictRisk(riskIndicators);

    // ç”Ÿæˆé¢¨éšªå ±å‘Š
    return {
      overallRiskLevel: this.categorizeRisk(overallRisk),
      riskScore: overallRisk,
      topRisks: this.identifyTopRisks(riskIndicators),
      recommendations: this.generateRecommendations(riskIndicators),
      forecast: this.forecastProjectOutcome(project, overallRisk),
    };
  }
}
```

### 3. æ™ºèƒ½è³‡æºåˆ†é…

```typescript
// å„ªåŒ–è³‡æºåˆ†é…
class ResourceOptimizationService {
  async optimizeResourceAllocation(
    project: Project,
    availableResources: Resource[],
  ): Promise<AllocationPlan> {
    const tasks = await this.getProjectTasks(project.id);

    // ä½¿ç”¨éºå‚³ç®—æ³•å„ªåŒ–åˆ†é…
    const allocationPlan = await this.geneticAlgorithm({
      tasks,
      resources: availableResources,
      constraints: {
        workHoursPerDay: 8,
        maxUtilization: 0.9,
        skillMatching: true,
      },
      objectives: {
        minimizeDuration: 0.4,
        balanceWorkload: 0.3,
        minimizeCost: 0.3,
      },
    });

    return {
      allocations: allocationPlan,
      metrics: {
        estimatedDuration: this.calculateDuration(allocationPlan),
        estimatedCost: this.calculateCost(allocationPlan),
        resourceUtilization: this.calculateUtilization(allocationPlan),
      },
      conflicts: this.detectConflicts(allocationPlan),
      recommendations: this.generateAllocationRecommendations(allocationPlan),
    };
  }
}
```

---

## ğŸ—ºï¸ é–‹ç™¼è·¯ç·šåœ–

### MVP (4-6 é€±)

#### Week 1-2
- [ ] å°ˆæ¡ˆåŸºç¤æ¶æ§‹
- [ ] å°ˆæ¡ˆCRUD
- [ ] ä»»å‹™CRUD
- [ ] åŸºç¤çœ‹æ¿

#### Week 3-4
- [ ] ä»»å‹™æ‹–æ‹½
- [ ] ä»»å‹™ä¾è³´
- [ ] åœ˜éšŠæˆå“¡ç®¡ç†
- [ ] è©•è«–åŠŸèƒ½

#### Week 5-6
- [ ] ç”˜ç‰¹åœ–
- [ ] é€²åº¦è¿½è¹¤
- [ ] åŸºç¤å ±è¡¨
- [ ] é€šçŸ¥ç³»çµ±

### å®Œæ•´ç‰ˆ (3-4 å€‹æœˆ)

- [ ] Scrum/Sprint ç®¡ç†
- [ ] è³‡æºç®¡ç†
- [ ] æ™‚é–“è¿½è¹¤
- [ ] é¢¨éšªç®¡ç†
- [ ] AI åŠŸèƒ½æ•´åˆ
- [ ] ç§»å‹•ç«¯æ‡‰ç”¨

---

## ğŸ“š åƒè€ƒè³‡æº

### é–‹æºå°ˆæ¡ˆç®¡ç†å·¥å…·
- **Jira** - Atlassian çš„å°ˆæ¡ˆç®¡ç†å·¥å…·
- **Trello** - ç°¡å–®çš„çœ‹æ¿å·¥å…·
- **Asana** - åœ˜éšŠå”ä½œå¹³å°
- **Monday.com** - å·¥ä½œä½œæ¥­ç³»çµ±
- **ClickUp** - å…¨èƒ½ç”Ÿç”¢åŠ›å¹³å°
- **Taiga** - æ•æ·å°ˆæ¡ˆç®¡ç†ï¼ˆé–‹æºï¼‰

---

**ğŸš€ é–‹å§‹ä½¿ç”¨ AI å»ºç«‹ä½ çš„å°ˆæ¡ˆç®¡ç†ç³»çµ±ï¼Œæå‡åœ˜éšŠå”ä½œæ•ˆç‡ï¼**
