# è²¡å‹™æœƒè¨ˆç³»çµ± Financial Accounting System

å®Œæ•´çš„è²¡å‹™æœƒè¨ˆç®¡ç†ç³»çµ±ï¼Œæ”¯æ´ç¸½å¸³ç®¡ç†ã€æ‡‰æ”¶æ‡‰ä»˜ã€è²¡å‹™å ±è¡¨ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹é»

- ğŸ“Š ç¸½å¸³ç®¡ç†
- ğŸ’° æœƒè¨ˆç§‘ç›®è¨­ç½®
- ğŸ“ æœƒè¨ˆæ†‘è­‰éŒ„å…¥
- ğŸ’³ æ‡‰æ”¶å¸³æ¬¾ç®¡ç†
- ğŸ’¸ æ‡‰ä»˜å¸³æ¬¾ç®¡ç†
- ğŸ“ˆ è²¡å‹™å ±è¡¨ç”Ÿæˆ
- ğŸ” å¸³ç°¿æŸ¥è©¢
- ğŸ“… æœƒè¨ˆæœŸé–“ç®¡ç†
- ğŸ—„ï¸ SQLite æœ¬åœ°æ•¸æ“šåº«
- ğŸ”Œ RESTful API ä»‹é¢
- ğŸ“± å‘½ä»¤è¡Œå·¥å…· (CLI)

## å®‰è£

```bash
pip install -r requirements.txt
```

## å¿«é€Ÿé–‹å§‹

### å‘½ä»¤è¡Œä½¿ç”¨

```bash
# åˆå§‹åŒ–æ•¸æ“šåº«
python src/main.py init

# æ–°å¢æœƒè¨ˆç§‘ç›®
python src/main.py add-account --code "1001" --name "ç¾é‡‘" --type ASSET

# éŒ„å…¥æ†‘è­‰
python src/main.py create-voucher --date "2024-01-15" --description "éŠ·å”®æ”¶å…¥"

# æŸ¥è©¢ç§‘ç›®é¤˜é¡
python src/main.py balance --account "1001"

# ç”Ÿæˆè³‡ç”¢è² å‚µè¡¨
python src/main.py balance-sheet --date "2024-12-31"

# ç”Ÿæˆæç›Šè¡¨
python src/main.py income-statement --start "2024-01-01" --end "2024-12-31"
```

### Python API ä½¿ç”¨

```python
from src.accounting_manager import AccountingManager

# åˆå§‹åŒ–ç®¡ç†å™¨
manager = AccountingManager('accounting.db')

# æ–°å¢æœƒè¨ˆç§‘ç›®
manager.add_account('1001', 'ç¾é‡‘', 'ASSET')
manager.add_account('1101', 'æ‡‰æ”¶å¸³æ¬¾', 'ASSET')
manager.add_account('4001', 'éŠ·å”®æ”¶å…¥', 'REVENUE')

# å‰µå»ºæœƒè¨ˆæ†‘è­‰
voucher_id = manager.create_voucher('2024-01-15', 'éŠ·å”®æ”¶å…¥', entries=[
    {'account_code': '1101', 'debit': 100000, 'credit': 0},  # å€Ÿ: æ‡‰æ”¶å¸³æ¬¾
    {'account_code': '4001', 'debit': 0, 'credit': 100000}   # è²¸: éŠ·å”®æ”¶å…¥
])

# æŸ¥è©¢ç§‘ç›®é¤˜é¡
balance = manager.get_account_balance('1001')
print(f"ç¾é‡‘é¤˜é¡: ${balance:,.0f}")

# ç”Ÿæˆè³‡ç”¢è² å‚µè¡¨
balance_sheet = manager.generate_balance_sheet('2024-12-31')

# ç”Ÿæˆæç›Šè¡¨
income_statement = manager.generate_income_statement('2024-01-01', '2024-12-31')
```

## æ•¸æ“šæ¨¡å‹

### Account (æœƒè¨ˆç§‘ç›®)
- code: ç§‘ç›®ç·¨è™Ÿ
- name: ç§‘ç›®åç¨±
- type: ç§‘ç›®é¡å‹ (ASSET/LIABILITY/EQUITY/REVENUE/EXPENSE)
- parent_code: ä¸Šç´šç§‘ç›®ç·¨è™Ÿ
- level: ç§‘ç›®å±¤ç´š

### Voucher (æœƒè¨ˆæ†‘è­‰)
- voucher_no: æ†‘è­‰ç·¨è™Ÿ
- voucher_date: æ†‘è­‰æ—¥æœŸ
- description: æ‘˜è¦
- created_by: è£½å–®äºº
- approved_by: å¯©æ ¸äºº
- status: ç‹€æ…‹ (DRAFT/APPROVED/POSTED)

### VoucherEntry (æ†‘è­‰åˆ†éŒ„)
- voucher_id: æ†‘è­‰ID
- account_code: ç§‘ç›®ç·¨è™Ÿ
- debit: å€Ÿæ–¹é‡‘é¡
- credit: è²¸æ–¹é‡‘é¡
- description: æ‘˜è¦

### AccountBalance (ç§‘ç›®é¤˜é¡)
- account_code: ç§‘ç›®ç·¨è™Ÿ
- period: æœƒè¨ˆæœŸé–“
- debit_total: å€Ÿæ–¹ç¸½é¡
- credit_total: è²¸æ–¹ç¸½é¡
- balance: é¤˜é¡

## æœƒè¨ˆç§‘ç›®é«”ç³»

### è³‡ç”¢é¡ (1xxx)
- 1001 - ç¾é‡‘
- 1002 - éŠ€è¡Œå­˜æ¬¾
- 1101 - æ‡‰æ”¶å¸³æ¬¾
- 1201 - å­˜è²¨
- 1501 - å›ºå®šè³‡ç”¢

### è² å‚µé¡ (2xxx)
- 2101 - æ‡‰ä»˜å¸³æ¬¾
- 2201 - çŸ­æœŸå€Ÿæ¬¾
- 2301 - æ‡‰ä»˜è–ªè³‡

### æ¬Šç›Šé¡ (3xxx)
- 3001 - è‚¡æœ¬
- 3101 - ä¿ç•™ç›ˆé¤˜

### æ”¶å…¥é¡ (4xxx)
- 4001 - éŠ·å”®æ”¶å…¥
- 4101 - å…¶ä»–æ”¶å…¥

### è²»ç”¨é¡ (5xxx)
- 5001 - éŠ·å”®æˆæœ¬
- 5101 - ç®¡ç†è²»ç”¨
- 5201 - è²¡å‹™è²»ç”¨

## è²¡å‹™å ±è¡¨

### è³‡ç”¢è² å‚µè¡¨ (Balance Sheet)
åæ˜ ä¼æ¥­åœ¨ç‰¹å®šæ—¥æœŸçš„è²¡å‹™ç‹€æ³ï¼š
- è³‡ç”¢ = è² å‚µ + æ¬Šç›Š

### æç›Šè¡¨ (Income Statement)
åæ˜ ä¼æ¥­åœ¨ç‰¹å®šæœŸé–“çš„ç¶“ç‡Ÿæˆæœï¼š
- æ·¨åˆ© = æ”¶å…¥ - è²»ç”¨

### ç¾é‡‘æµé‡è¡¨ (Cash Flow Statement)
åæ˜ ä¼æ¥­ç¾é‡‘æµå…¥æµå‡ºæƒ…æ³

## æ¸¬è©¦

```bash
pytest tests/
```

## æŠ€è¡“ç´°ç¯€

- **æ•¸æ“šåº«**: SQLite3
- **è¤‡å¼è¨˜å¸³**: å€Ÿè²¸å¹³è¡¡åŸå‰‡
- **API æ¡†æ¶**: FastAPI
- **CLI æ¡†æ¶**: argparse
- **æ•¸æ“šé©—è­‰**: Pydantic

## æ‡‰ç”¨å ´æ™¯

- ä¸­å°ä¼æ¥­è²¡å‹™ç®¡ç†
- æœƒè¨ˆè¨˜å¸³ç³»çµ±
- è²¡å‹™åˆ†æç³»çµ±
- ERP è²¡å‹™æ¨¡çµ„
- å€‹äººè¨˜å¸³æ‡‰ç”¨

## åŠŸèƒ½æ“´å±•

å¯ä»¥è¼•é¬†æ“´å±•ä»¥ä¸‹åŠŸèƒ½ï¼š

- ğŸ” å¤šå¹£åˆ¥æ”¯æ´
- ğŸ“Š é ç®—ç®¡ç†
- ğŸ¦ éŠ€è¡Œå°å¸³
- ğŸ’° æˆæœ¬ä¸­å¿ƒ
- ğŸ“„ ç¨…å‹™ç”³å ±
- ğŸ“§ å ±è¡¨éƒµä»¶ç™¼é€
- ğŸ“± è¡Œå‹•å¯©æ‰¹
- ğŸ”„ è‡ªå‹•åˆ†éŒ„

## æœƒè¨ˆåŸå‰‡

- âœ… è¤‡å¼è¨˜å¸³ï¼ˆå€Ÿè²¸å¿…é ˆå¹³è¡¡ï¼‰
- âœ… æ¬Šè²¬ç™¼ç”Ÿåˆ¶
- âœ… æœƒè¨ˆç§‘ç›®é«”ç³»
- âœ… æ†‘è­‰å¯©æ ¸æ©Ÿåˆ¶
- âœ… æœŸæœ«çµè½‰

## æ³¨æ„äº‹é …

- æ‰€æœ‰æ†‘è­‰å€Ÿè²¸å¿…é ˆå¹³è¡¡
- æ†‘è­‰å¯©æ ¸å¾Œä¸å¯ä¿®æ”¹
- å®šæœŸå‚™ä»½è²¡å‹™æ•¸æ“š
- éµå®ˆæœƒè¨ˆæº–å‰‡
- ä¿å­˜å®Œæ•´å¯©è¨ˆè»Œè·¡

## æˆæ¬Š

MIT License
