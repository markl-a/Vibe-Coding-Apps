# 費用追蹤器 (Expense Tracker)

智能費用追蹤和分析系統，幫助個人和企業有效管理日常支出。

## 功能特色

### 💰 費用管理
- **快速記帳**：簡單直觀的費用記錄介面
- **智能分類**：自訂分類和圖示
- **收據管理**：上傳並保存收據圖片
- **多元付款方式**：支援現金、信用卡、轉帳、電子支付

### 📊 數據分析
- **視覺化圖表**：圓餅圖、折線圖、長條圖
- **支出趨勢**：每日、每月支出分析
- **分類統計**：各分類支出佔比
- **異常偵測**：識別異常支出

### 💼 預算控制
- **分類預算**：為每個分類設定月度預算
- **預算追蹤**：實時顯示預算使用情況
- **超支警告**：預算達到閾值時提醒
- **支出預測**：基於歷史數據預測月度支出

### 📤 報表匯出
- **月度報表**：自動生成月度費用報表
- **CSV 匯出**：支援數據匯出為 CSV 格式
- **自訂期間**：靈活選擇報表時間範圍

## 安裝

```bash
# 安裝依賴
pip install -r requirements.txt
```

## 使用方法

```bash
# 啟動應用
streamlit run app.py
```

## 核心功能

### 1. 新增費用

- 輸入日期、金額、分類
- 選擇付款方式
- 添加描述和標籤
- 上傳收據（可選）

### 2. 分類管理

內建常用分類：
- 🍔 餐飲
- 🚗 交通
- 🏠 住宿
- 🛍️ 購物
- 💊 醫療
- 🎓 教育
- 🎬 娛樂
- 📱 通訊
- 💡 水電

也可自訂分類並設定預算。

### 3. 統計分析

提供多維度分析：
- 總支出統計
- 分類支出分布
- 付款方式分析
- 支出趨勢圖
- 前 N 大支出

### 4. 預算管理

- 設定分類預算
- 查看預算使用率
- 預算健康度指標
- 超支提醒

## 使用案例

### 個人理財
```
1. 每天記錄支出
2. 設定月度預算
3. 每週檢視支出分析
4. 調整消費習慣
```

### 小型企業
```
1. 記錄所有營運費用
2. 按項目/部門分類
3. 生成月度報表
4. 控製成本支出
```

### 差旅報銷
```
1. 記錄差旅費用
2. 上傳收據
3. 按標籤分類
4. 匯出報銷單
```

## 數據結構

### 費用記錄
```json
{
  "id": 1,
  "date": "2023-11-16",
  "amount": 150.50,
  "category": "餐飲",
  "description": "午餐",
  "payment_method": "信用卡",
  "vendor": "餐廳名稱",
  "tags": ["商務", "午餐"],
  "notes": "與客戶會議",
  "is_recurring": false,
  "receipt_path": "receipts/2023-11-16_餐飲.jpg"
}
```

### 分類設定
```json
{
  "id": 1,
  "name": "餐飲",
  "icon": "🍔",
  "description": "飲食相關支出",
  "budget": 5000
}
```

## 智能功能

### 1. 定期費用識別
自動識別定期費用（如房租、訂閱服務）並提供預測。

### 2. 異常偵測
識別異常高額支出，幫助發現潛在問題。

### 3. 支出預測
基於歷史數據預測月底支出總額。

### 4. 趨勢分析
分析支出趨勢（上升/下降/穩定）。

## 技術架構

- **前端**：Streamlit（互動式 Web UI）
- **圖表**：Plotly（互動式圖表）
- **資料處理**：Pandas（數據分析）
- **資料儲存**：JSON（輕量級資料庫）

## 文件結構

```
expense-tracker/
├── app.py                    # Streamlit 主應用
├── expense_manager.py        # 費用管理核心邏輯
├── database/
│   ├── db_handler.py        # 資料庫處理
│   ├── expenses.json        # 費用資料
│   ├── categories.json      # 分類資料
│   └── receipts/            # 收據文件夾
├── requirements.txt
└── README.md
```

## 擴展功能建議

### 未來可添加的功能
- [ ] 多幣別支援
- [ ] 收據 OCR 自動識別
- [ ] 雲端同步
- [ ] 多用戶支援
- [ ] 移動端 App
- [ ] 銀行交易匯入
- [ ] AI 智能分類建議
- [ ] 支出目標設定
- [ ] 分期付款追蹤
- [ ] 發票管理整合

## 使用技巧

### 1. 養成記帳習慣
- 每天固定時間記錄當日支出
- 使用標籤快速分類
- 上傳重要收據

### 2. 善用預算功能
- 根據收入設定合理預算
- 定期檢視預算使用情況
- 調整不合理的分類預算

### 3. 定期分析
- 每週查看支出趨勢
- 每月生成報表
- 找出可優化的支出項目

### 4. 數據備份
- 定期備份 database 目錄
- 匯出重要數據為 CSV

## 常見問題

**Q: 如何修改分類的預算？**
A: 在「分類管理」中可以查看和修改每個分類的預算。

**Q: 可以刪除費用記錄嗎？**
A: 目前版本需要直接編輯 JSON 文件，未來版本將加入刪除功能。

**Q: 支援多幣別嗎？**
A: 當前版本使用單一幣別，可在代碼中擴展多幣別支援。

**Q: 數據安全嗎？**
A: 數據儲存在本地，建議定期備份並注意文件權限。

## 授權

MIT License

---

**開始智能管理你的費用！** 💰📊
